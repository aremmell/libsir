#include "chsir.h"

const char*
sir_getversionstring(void) {
    void* fptr;
    const char* retval;

    fptr = dlsym(_Chsir_handle, "sir_getversionstring_chdl");
    if (fptr == NULL) {
        fprintf(_stderr, "Error: %s(%d): dlsym(): %s\n",
                __func__, __LINE__, dlerror());
        return NULL;
    }
    dlrunfun(fptr, &retval, sir_getversionstring);

    return retval;
}
