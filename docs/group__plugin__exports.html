<!-- HTML header for doxygen 1.9.7-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<title>libsir: The Standard Incident Reporter Library</title>
<!-- OpenGraph -->
<meta property="og:title" content="libsir: The Standard Incident Reporter Library">
<meta property="og:description" content="A lightweight, cross-platform C library for information distribution">
<meta property="og:url" content="https://libsir.rml.dev">
<meta property="og:type" content="website">
<meta property="og:image" content="https://libsir.rml.dev/res/libsir-og.png">
<meta name="twitter:card" content="summary_large_image"></meta>
<meta name="twitter:title" content="libsir: The Standard Incident Reporter Library"></meta>
<meta name="twitter:description" content="A lightweight, cross-platform C library for information distribution"></meta>
<meta name="twitter:image" content="https://libsir.rml.dev/res/libsir-og.png"></meta>
<!-- /OpenGraph -->
<!-- favicon -->
<link rel="icon" href="res/libsir-icon.png">
<link rel="icon" href="res/libsir-icon.svg" type="image/svg+xml">
<link rel="manifest" href="res/icons.webmanifest">
<!-- /favicon -->
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" />
<link href="rml-navtree.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">libsir<span id="projectnumber">&#160;2.2.0</span>
   </div>
   <div id="projectbrief">Standard Incident Reporter</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__plugin__exports.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Plugin interface</div></div>
</div><!--header-->
<div class="contents">

<p>Functions exported by libsir plugins.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga938b693a1eae42f7d93b136b8851f176"><td class="memItemLeft" align="right" valign="top">PLUGIN_EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__plugin__exports.html#ga938b693a1eae42f7d93b136b8851f176">sir_plugin_query</a> (<a class="el" href="structsir__plugininfo.html">sir_plugininfo</a> *info)</td></tr>
<tr class="memdesc:ga938b693a1eae42f7d93b136b8851f176"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called by libsir after the plugin library object is loaded, but before any other functions are probed or called.  <br /></td></tr>
<tr class="separator:ga938b693a1eae42f7d93b136b8851f176"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga16ed2c82f4bf0b4571c2d79bb946ce2d"><td class="memItemLeft" align="right" valign="top">PLUGIN_EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__plugin__exports.html#ga16ed2c82f4bf0b4571c2d79bb946ce2d">sir_plugin_init</a> (void)</td></tr>
<tr class="memdesc:ga16ed2c82f4bf0b4571c2d79bb946ce2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called by libsir after the plugin is queried and successfully validated.  <br /></td></tr>
<tr class="separator:ga16ed2c82f4bf0b4571c2d79bb946ce2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8bcc79c4667749f5c81e6b1f22db0f1d"><td class="memItemLeft" align="right" valign="top">PLUGIN_EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__plugin__exports.html#ga8bcc79c4667749f5c81e6b1f22db0f1d">sir_plugin_write</a> (<a class="el" href="group__publictypes.html#ga4a3303c67acd49bea38fd3565d458cb2">sir_level</a> level, const char *message)</td></tr>
<tr class="memdesc:ga8bcc79c4667749f5c81e6b1f22db0f1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called by libsir when a message is dispatched on any level whose bit was set in the <code>levels</code> bitmask of the <a class="el" href="structsir__plugininfo.html" title="The libsir-to-plugin query data structure.">sir_plugininfo</a> structure when <a class="el" href="group__plugin__exports.html#ga938b693a1eae42f7d93b136b8851f176" title="Called by libsir after the plugin library object is loaded, but before any other functions are probed...">sir_plugin_query</a> was called.  <br /></td></tr>
<tr class="separator:ga8bcc79c4667749f5c81e6b1f22db0f1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga43748071f13fd42b462fab8e3ea9faef"><td class="memItemLeft" align="right" valign="top">PLUGIN_EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__plugin__exports.html#ga43748071f13fd42b462fab8e3ea9faef">sir_plugin_cleanup</a> (void)</td></tr>
<tr class="memdesc:ga43748071f13fd42b462fab8e3ea9faef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called by libsir when the plugin is about to be unloaded.  <br /></td></tr>
<tr class="separator:ga43748071f13fd42b462fab8e3ea9faef"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Functions exported by libsir plugins. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga938b693a1eae42f7d93b136b8851f176" name="ga938b693a1eae42f7d93b136b8851f176"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga938b693a1eae42f7d93b136b8851f176">&#9670;&#160;</a></span>sir_plugin_query()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PLUGIN_EXPORT bool sir_plugin_query </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsir__plugininfo.html">sir_plugininfo</a> *&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Called by libsir after the plugin library object is loaded, but before any other functions are probed or called. </p>
<p>The plugin must fill out the information in the <code>info</code> structure in a way satisfactory to libsir, or it will immediately be unloaded:</p>
<ul>
<li>all members of the <a class="el" href="structsir__plugininfo.html" title="The libsir-to-plugin query data structure.">sir_plugininfo</a> structure are required to be set by the plugin.</li>
<li><code>iface_ver</code> must be set to <code>SIR_PLUGIN_VCURRENT</code>; if the interface version does not match libsir's expectation, the plugin will be unloaded.</li>
<li><code>char*</code> members must be set to valid strings, and must point at static memory that will not go out of scope when the function exits. Do not allocate heap memory for these properties; they will be leaked.</li>
<li><code>levels</code> must be a valid <a class="el" href="group__publictypes.html#ga4a3303c67acd49bea38fd3565d458cb2" title="Defines the available levels (severity/priority) of logging output.">sir_level</a> bitmask.</li>
<li><code>opts</code> must be a valid <a class="el" href="group__publictypes.html#ga9ed1c599dfd76231f4e0dadf46bff40b" title="Formatting options for a destination.">sir_option</a> bitmask.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>It is not possible to change these settings once chosen, so ensure that they are correct.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__publictypes.html#ga4a3303c67acd49bea38fd3565d458cb2" title="Defines the available levels (severity/priority) of logging output.">sir_level</a> </dd>
<dd>
<a class="el" href="group__publictypes.html#ga9ed1c599dfd76231f4e0dadf46bff40b" title="Formatting options for a destination.">sir_option</a> </dd>
<dd>
<a class="el" href="group__default.html" title="Default sir_option bitmasks, sir_level registrations, and sir_textstyle bitmasks.">Defaults</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">info</td><td>Pointer to a <a class="el" href="structsir__plugininfo.html" title="The libsir-to-plugin query data structure.">sir_plugininfo</a> structure to be initialized by the plugin. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool <code>true</code> if the <code>info</code> structure was successfully initialized, <code>false</code> otherwise. If <code>false</code>, the plugin will be unloaded. </dd></dl>

</div>
</div>
<a id="ga16ed2c82f4bf0b4571c2d79bb946ce2d" name="ga16ed2c82f4bf0b4571c2d79bb946ce2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga16ed2c82f4bf0b4571c2d79bb946ce2d">&#9670;&#160;</a></span>sir_plugin_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PLUGIN_EXPORT bool sir_plugin_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Called by libsir after the plugin is queried and successfully validated. </p>
<p>The plugin should only at the time of this call begin allocating resources and initializing its internal state.</p>
<dl class="section return"><dt>Returns</dt><dd>bool <code>true</code> if the plugin successfully initialized its internal state, <code>false</code> otherwise. </dd></dl>

</div>
</div>
<a id="ga8bcc79c4667749f5c81e6b1f22db0f1d" name="ga8bcc79c4667749f5c81e6b1f22db0f1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8bcc79c4667749f5c81e6b1f22db0f1d">&#9670;&#160;</a></span>sir_plugin_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PLUGIN_EXPORT bool sir_plugin_write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__publictypes.html#ga4a3303c67acd49bea38fd3565d458cb2">sir_level</a>&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Called by libsir when a message is dispatched on any level whose bit was set in the <code>levels</code> bitmask of the <a class="el" href="structsir__plugininfo.html" title="The libsir-to-plugin query data structure.">sir_plugininfo</a> structure when <a class="el" href="group__plugin__exports.html#ga938b693a1eae42f7d93b136b8851f176" title="Called by libsir after the plugin library object is loaded, but before any other functions are probed...">sir_plugin_query</a> was called. </p>
<p>The <code>message</code> string will be pre-formatted according to the <a class="el" href="group__publictypes.html#ga9ed1c599dfd76231f4e0dadf46bff40b" title="Formatting options for a destination.">sir_option</a> set in the <code>opts</code> bitmask of the <a class="el" href="structsir__plugininfo.html" title="The libsir-to-plugin query data structure.">sir_plugininfo</a> structure.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">level</td><td>The <a class="el" href="group__publictypes.html#ga4a3303c67acd49bea38fd3565d458cb2" title="Defines the available levels (severity/priority) of logging output.">sir_level</a> of the message being dispatched. </td></tr>
    <tr><td class="paramname">message</td><td>A string containing the pre-formatted message being dispatched. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool <code>true</code> if the message was successfully processed, <code>false</code> otherwise. </dd></dl>

</div>
</div>
<a id="ga43748071f13fd42b462fab8e3ea9faef" name="ga43748071f13fd42b462fab8e3ea9faef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga43748071f13fd42b462fab8e3ea9faef">&#9670;&#160;</a></span>sir_plugin_cleanup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PLUGIN_EXPORT bool sir_plugin_cleanup </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Called by libsir when the plugin is about to be unloaded. </p>
<p>The plugin should immediately begin releasing allocated resources and resetting its internal state.</p>
<dl class="section return"><dt>Returns</dt><dd>bool <code>true</code> if the plugin cleaned up successfully, <code>false</code> otherwise. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.7-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7 </li>
  </ul>
</div>
</body>
</html>
